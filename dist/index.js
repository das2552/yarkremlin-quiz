!function(){"use strict";function e(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function t(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var s=function(e){var t=e.state,s=e.elements;"shown"===t.visibilitySubmitButtonState&&s.submitButton.classList.remove("test-button_hidden"),"enabled"===t.disablingStepNavState&&(s.submitButton.disabled=!1),"processing"===t.gettingResultProcessState&&(s.submitButton.disabled=!0),"finished"===t.gettingResultProcessState&&(s.submitButton.disabled=!1),"failed"===t.gettingResultProcessState&&(s.submitButton.disabled=!0)},n=function(e){var t,s,n=e.state,i=e.elements,r=(t=n.activeStepIndex,s=n.stepsCount,"".concat(t+1," из ").concat(s," вопросов"));i.stepsInfo.textContent=r},i=function(e){var t=e.state,s=e.elements;"enabled"===t.disablingStepNavState&&(s.stepNav.disabled=!1),"hidden"===t.visibilityStepNavState&&s.stepNav.classList.add("test-button_hidden")},r={result:"Вы пока чужак, вам нужно подучить ярославские словечки. Кажется про вас могут подумать, что вы кочевряга.",descr:"Кочевряга — гордый, высокомерный человек."},c={result:"Досужий вы человек! Вы быстро схватываете, но есть слова которые вы еще не знаете.",descr:"Досужий — смекалистый, догадливы, любопытный."},o={result:"Вас не обояришь! Вы легко сойдете за местного.",descr:"Обоярить — обмануть."},a=function(a){var u=function(s){var n={score:0,scoreState:null,activeStepIndex:0,stepsCount:8,visibilitySubmitButtonState:"hidden",disablingSubmitButtonState:"disabled",visibilityResult:"hidden",result:null,userActivityState:"idle"},i=function(s){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?e(Object(i),!0).forEach((function(e){t(s,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(i,e))}))}return s}({},n);return{state:i,elements:{submitButton:s.querySelector(".quiz__submit"),stepsInfo:s.querySelector(".quiz__steps-info"),steps:Array.from(s.querySelectorAll(".quiz__step")),resultsDataElement:s.querySelector(".quiz__results-data"),form:s.querySelector(".quiz__form"),result:s.querySelector(".quiz__result"),resultScore:s.querySelector(".quiz__result-score"),resultCard:s.querySelector(".quiz__result-card"),resetButton:s.querySelector(".quiz__reset")},initialState:n}}(a),l=function(e){var t=e.state;return{updateScore:function(){t.score+=1,function(e){var t=e.state;e.elements.resultsDataElement.value=t.score}(e)},updateActiveStep:function(){t.activeStepIndex+=1,n(e),function(e){var t=e.state,s=e.elements,n=s.steps[t.activeStepIndex-1],i=s.steps[t.activeStepIndex];n.classList.remove("quiz__step_shown"),i.classList.add("quiz__step_shown")}(e)},showSubmitButton:function(){t.visibilitySubmitButtonState="shown",s(e)},enableSubmitButton:function(){t.disablingStepNavState="enabled",s(e)},getLastStepIndex:function(){return t.stepsCount-1},isLastStep:function(){return t.activeStepIndex===t.stepsCount-1}}}(u),d=u.state,_=u.elements;d.stepsCount=_.steps.length,n(u);var S,v,f,p=function(){window.location.reload()},b=(S=p,v=3e5,function(){var e=arguments,t=this;clearTimeout(f),f=setTimeout((function(){return S.apply(t,e)}),v)});_.resetButton.addEventListener("click",(function(){return p})),_.form.addEventListener("submit",(function(e){e.preventDefault();var t=d.score;d.visibilityResult="shown",t<4&&(d.result=r,d.scoreState="low"),t>4&&(d.result=o,d.scoreState="hight"),t>=4&&t<=7&&(d.result=c,d.scoreState="medium"),function(e,t){"shown"===e.visibilityResult&&(t.form.classList.remove("quiz__section_shown"),t.result.classList.add("quiz__section_shown")),"hidden"===e.visibilityResult&&(t.form.classList.add("quiz__section_shown"),t.result.classList.remove("quiz__section_shown")),"low"===e.scoreState&&t.resultScore.classList.add("quiz__result-score_low"),"medium"===e.scoreState&&t.resultScore.classList.add("quiz__result-score_medium"),"hight"===e.scoreState&&t.resultScore.classList.add("quiz__result-score_hight");var s,n,i,r,c,o=(n=(s=e.result).result,i=s.descr,'<div class="quiz__card-text">'.concat(n,'</div><div class="quiz__card-descr">').concat(i,"</div>"));t.resultCard.innerHTML=o,t.resultScore.textContent=(r=e.score,c=e.stepsCount,"Баллов набрано: ".concat(r," из ").concat(c))}(d,_)})),_.steps.forEach((function(e,t){!function(e,t,s){var n=function(e){return{state:{correctAnswerIndex:null,selectedAnswerIndex:null,selectedAnswerState:"idle",disablingStepNavState:"disabled",visibilityStepNavState:"shown"},elements:{answersBox:e.querySelector(".quiz__items"),answers:Array.from(e.querySelectorAll(".quiz__item")),fields:Array.from(e.querySelectorAll(".quiz__field")),stepNav:e.querySelector(".quiz__step-nav")}}}(e),r=n.state,c=n.elements,o=c.answers,a=c.fields,u=c.stepNav;r.correctAnswerIndex=function(e){var t;return e.forEach((function(e,s){void 0!==e.dataset.correctAnswer&&(t=s)})),t}(o),u.addEventListener("click",(function(){s.updateActiveStep(),s.isLastStep()&&s.showSubmitButton()})),a.forEach((function(e,t){e.addEventListener("change",(function(){return e=t,void(null===r.selectedAnswerIndex&&(r.selectedAnswerIndex=e,r.disablingStepNavState="enabled",r.selectedAnswerIndex===r.correctAnswerIndex?(r.selectedAnswerState="correct",s.updateScore()):r.selectedAnswerState="incorrect",function(e){var t=e.state,s=e.elements,n=s.answers[t.correctAnswerIndex],i=n.querySelector(".quiz__answer"),r=n.querySelector(".quiz__icon");if("incorrect"===t.selectedAnswerState){var c=s.answers[t.selectedAnswerIndex],o=c.querySelector(".quiz__icon");c.classList.add("quiz__item_incorrect"),o.classList.add("icon_incorrect"),o.classList.remove("icon_hidden")}n.classList.add("quiz__item_correct"),i.classList.remove("quiz__answer_hidden"),r.classList.add("icon_correct"),r.classList.remove("icon_hidden"),s.fields.forEach((function(e){e.classList.add("quiz__field_hidden")})),s.answers.forEach((function(e){e.classList.add("quiz__item_disabled"),e.classList.remove("quiz__item_hover")}))}(n),i(n),s.isLastStep()&&s.enableSubmitButton()));var e}))})),t===s.getLastStepIndex()&&(r.visibilityStepNavState="hidden",i(n))}(e,t,l)})),window.innerWidth>=1920&&document.addEventListener("click",b)};document.addEventListener("DOMContentLoaded",(function(){Array.from(document.querySelectorAll(".quiz")).forEach((function(e){a(e)}))}))}();
//# sourceMappingURL=index.js.map